<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Chess iOS</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <div class="app-container">
        <!-- Header / Status Bar -->
        <header class="glass-panel">
            <div class="status-bar">
                <span id="game-status">White to Move</span>
            </div>
        </header>

        <!-- Chess Board -->
        <main class="board-container">
            <div id="chessboard" class="chessboard">
                <!-- Squares will be generated by JS -->
            </div>
        </main>

        <!-- Controls / Captured Pieces -->
        <section class="controls glass-panel">
            <div class="difficulty-selector">
                <label for="difficulty">Difficulty:</label>
                <select id="difficulty">
                    <option value="1">Level 1 (Easy)</option>
                    <option value="5">Level 5 (Medium)</option>
                    <option value="10">Level 10 (Hard)</option>
                    <option value="22" selected>Level 20 (Grandmaster)</option>
                </select>
            </div>
            <div class="actions">
                <button id="btn-undo" class="ios-btn secondary">Undo</button>
                <button id="btn-new-game" class="ios-btn primary">New Game</button>
            </div>
            <!-- Debug Info -->
            <div id="engine-status" class="engine-info">Stockfish Ready</div>
        </section>
    </div>

    <!-- Scripts -->
    <!-- Scripts -->
    <script src="js/lib/chess.js"></script>
    <script>
        var StockfishModule = {
            preRun: [],
            postRun: [],
            print: function (text) {
                if (window.onStockfishOutput) window.onStockfishOutput(text);
                // console.log(text);
            },
            printErr: function (text) {
                console.error('Stockfish Err:', text);
            },
            locateFile: function (path, prefix) {
                return prefix + path;
            }
        };
        var Module = StockfishModule; // Global Module for stockfish.js to latch onto
    </script>
    <script src="js/lib/stockfish.js"></script>
    <script src="js/pieces.js"></script>
    <script src="js/app.js"></script>
</body>

</html>